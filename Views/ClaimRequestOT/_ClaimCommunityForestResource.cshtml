@model FMDSS.Entity.FRAViewModel.ClaimRequestOTVM 
<!--===========================Claimant Address===================================-->
<div class="col-md-12">
    <div class="panel panel-default">
        <div class="panel-heading" style="font-size:14px;font-weight:700;">
            Claimant Address
        </div>
        <div class="panel-body">
            <div class="col-lg-3">
                <div class="form-group">
                    <label>District:<span class="mandatory">*</span> </label>
                    @Html.DropDownListFor(m => m.ClaimRequestDetails.DistrictID, new SelectList(Model.DistrictList, "Value", "Text"), "--Select--", new { @class = "form-control", @id = "ddlDistID", onchange = "ddlDistID_Change(this)" })
                    <div id="errJFMC" class="alert-danger1">@Html.ValidationMessageFor(m => m.ClaimRequestDetails.DistrictID)</div>
                </div>
            </div>
            <div class="col-lg-3">
                <div class="form-group">
                    <label>Tehsil:<span class="mandatory">*</span> </label>
                    @Html.DropDownListFor(m => m.ClaimRequestDetails.TehsilID, new SelectList(Model.TehsilList, "Value", "Text"), "--Select--", new { @class = "form-control", id = "ddlTehsilID" })
                    <div id="errJFMC" class="alert-danger1">@Html.ValidationMessageFor(m => m.ClaimRequestDetails.TehsilID)</div>
                </div>
            </div>
            <div class="col-lg-6">
                <div class="form-group">
                    <label>Block:<span class="mandatory">*</span></label>
                    @Html.DropDownListFor(m => m.ClaimRequestDetails.BlockID, new SelectList(Model.BlockList, "Value", "Text"), "--Select--", new { @class = "form-control", id = "ddlBlockID", onchange = "ddlBlockID_Change(this)" })
                    <div id="errJFMC" class="alert-danger1">@Html.ValidationMessageFor(m => m.ClaimRequestDetails.BlockID)</div>
                </div>
            </div>
            <div class="col-lg-6">
                <div class="form-group">
                    <label>
                        Gram Panchayat:<span class="mandatory">*</span>
                    </label>
                    @Html.DropDownListFor(m => m.ClaimRequestDetails.GPID, new SelectList(Model.GPList, "Value", "Text"), "--Select--", new { @class = "form-control", id = "ddlGPID", onchange = "ddlGPID_Change(this)" })
                    <div id="errJFMC" class="alert-danger1">@Html.ValidationMessageFor(m => m.ClaimRequestDetails.GPID)</div>

                </div>
            </div>
            <div class="col-lg-6">
                <div class="form-group">
                    <label>
                        Village:<span class="mandatory">*</span>
                    </label>

                    @Html.DropDownListFor(m => m.ClaimRequestDetails.VillageCode, new SelectList(Model.VillageList, "Value", "Text"), "--Select--", new { @class = "form-control", id = "ddlVillageCode" })
                    <div id="errJFMC" class="alert-danger1">
                        @Html.ValidationMessageFor(m => m.ClaimRequestDetails.VillageCode)
                    </div>

                </div>
            </div>
            <div class="col-lg-6">
                <div class="form-group">
                    <label>FDST community:</label>
                    <div>
                        <label class="radio-inline">
                            @Html.RadioButtonFor(m => m.ClaimRequestDetails.Comminity_FDSTCommunity, true) Yes
                        </label>
                        <label class="radio-inline">
                            @Html.RadioButtonFor(m => m.ClaimRequestDetails.Comminity_FDSTCommunity, false) No
                        </label>
                    </div>

                </div>
            </div>
            <div class="col-lg-6">
                <div class="form-group">
                    <label>OTFD community:</label>
                    <div>
                        <label class="radio-inline">
                            @Html.RadioButtonFor(m => m.ClaimRequestDetails.Comminity_OTFDCommunity, true) Yes
                        </label>
                        <label class="radio-inline">
                            @Html.RadioButtonFor(m => m.ClaimRequestDetails.Comminity_OTFDCommunity, false) No
                        </label>
                    </div>

                </div>
            </div>
        </div>
    </div>
</div>

<div class="col-md-12">
    <div class="panel panel-default">
        <div class="panel-heading" style="font-size:14px;font-weight:700;">
            Nature of community rights enjoyed
        </div>
        <div class="panel-body">
            <div class="col-lg-6">
                <div class="form-group">
                    <label>Community rights such as nistar, if any:</label>
                    @Html.TextBoxFor(m => m.ClaimRequestDetails.Community_CRSANistar, new { @class = "form-control", maxlength = "150" })
                </div>
            </div>
            <div class="col-lg-6">
                <div class="form-group">
                    <label>Rights over minor forest produce, if any:</label>
                    @Html.TextBoxFor(m => m.ClaimRequestDetails.Community_ROMFProduce, new { @class = "form-control", maxlength = "150" })
                </div>
            </div>
            <div class="col-lg-12">
                <label>Community rights:</label>
            </div>
            <div class="col-lg-6">
                <div class="form-group un-bold">
                    <label>(a) Uses or entitlements (fish, water bodies), if any:</label>
                    @Html.TextBoxFor(x => x.ClaimRequestDetails.Community_UsesOrEntitlement, new { @class = "form-control", maxlength = "150" })
                </div>
            </div>
            <div class="col-lg-6">
                <div class="form-group un-bold">
                    <label>(b) Grazing, if any:</label>
                    @Html.TextBoxFor(x => x.ClaimRequestDetails.Community_Grazing, new { @class = "form-control", maxlength = "150" })
                </div>
            </div>
            <div class="col-lg-6">
                <div class="form-group un-bold">
                    <label>(c) Traditional resource access for nomadic and pastoralist, if any:</label>
                    @Html.TextBoxFor(x => x.ClaimRequestDetails.Community_TRAFNAPastroralist, new { @class = "form-control", maxlength = "150" })
                </div>
            </div>
            <div class="col-lg-6">
                <div class="form-group un-bold">
                    <label>(d) Land use:</label>
                    @Html.DropDownListFor(m => m.ClaimRequestDetails.ClaimRequestPurposeID, new SelectList(Model.ClaimRequestPurposeList, "Value", "Text"), "--Select--", new { @class = "form-control", @id = "ddlClaimRequestPurpose" })
                </div>
            </div>
            <div class="col-lg-12">
                <div class="form-group">
                    <label>Community tenures of habitat and habitation for PTGs and pre-agricultural communities, if any:</label>
                    @Html.TextBoxFor(m => m.ClaimRequestDetails.Community_CTOHAHabitation, new { @class = "form-control", maxlength = "150" })
                </div>
            </div>
            <div class="col-lg-12">
                <div class="form-group">
                    <label>Right to access biodiversity, intellectual property and traditional knowledge, if any:</label>
                    @Html.TextBoxFor(m => m.ClaimRequestDetails.Community_RTABiodiversity, new { @class = "form-control", maxlength = "150" })
                </div>
            </div>
            <div class="col-lg-6">
                <div class="form-group">
                    <label>Other traditional right, if any:</label>
                    @Html.TextBoxFor(m => m.ClaimRequestDetails.Community_OTRight, new { @class = "form-control", maxlength = "150" })
                </div>
            </div>
        </div>
    </div>
</div>
<!--===========================Member Of Gram Sabha===============================-->
@Html.Partial("_GramSabhaMemberDetails", Model)
<!--===========================Khasra Details=====================================-->
<div class="col-md-12">
    <div class="panel panel-default">
        <div class="panel-heading" style="font-size:14px;font-weight:700;">
            Khasra/Compartment Details
        </div>
        <div class="panel-body">
            <div class="col-lg-3">
                <div class="form-group">
                    <label>Khasra No:</label>
                    @Html.TextBoxFor(m => m.ClaimRequestDetails.KhasraNumber, new { @class = "form-control" })
                </div>
            </div>
            <div class="col-lg-3">
                <div class="form-group">
                    <label>Compartment No:</label>
                    @Html.TextBoxFor(m => m.ClaimRequestDetails.CompartmentNumber, new { @class = "form-control" })
                </div>
            </div>
            <div class="col-lg-6">
                <div class="form-group">
                    <label>Upload Khasra/Compartment No Evidence:<br><i class="small">Upload file up to 2 MB</i></label>
                    @Html.TextBox("UploadFile", "", new { @class = "form-control HideInfoForApprover", id = "fuKhasraCompartment", @type = "file", @multiple = "multiple", onchange = "UploadData(1)" })
                    <div id="errordivUpload" class="alert-danger1"></div>

                    <div class="tblmax">
                        <table class="table table-striped table-bordered table-hover gridtable">
                            <thead>
                                <tr>
                                    <th>SNo.</th>
                                    <th>FileName</th>
                                    <th>Action</th>
                                </tr>
                            </thead>
                            <tbody id="tblKhasraCompartmentFiles">
                                @if (Session["UploadFile"] != null)
                                {
                                    var cntr = 1;
                                    foreach (var item in ((List<FMDSS.Entity.ViewModel.CommonDocument>)Session["UploadFile"]).Where(x => x.DocumentTypeID == Convert.ToInt32(FMDSS.DocumentType.CompartmentNo)))
                                    {
                                <tr>
                                    <td style=display:none;>@item.TempID</td>
                                    <td>@Html.Raw(cntr++)</td>
                                    <td><a href="@Url.Content("~/" + item.DocumentPath)" target="_blank"><img src="@Url.Content("~/images/jpeg.png")" width="30" /></a>@item.DocumentName</td>
                                    <td style="width:5%"><button type=button class='btn btn-danger btn-circle btnDeleteDocument' style=cursor:pointer><i class='fa fa-times'></i></button></td>
                                </tr>
                                    }
                                }
                                else
                                {
                                <tr class="rowSkip"><td colspan="3">No file Uploaded</td></tr>
                                }
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<!--===========================Bordering Village==================================-->
@Html.Partial("_BorderingVillageDetails", Model)
<!--===========================Additional Evidence Details========================-->
<div class="col-md-12">
    <div class="panel panel-default">
        <div class="panel-heading" style="font-size:14px;font-weight:700;">
            Additional Evidence Details
        </div>
        <div class="panel-body">
            <div class="col-lg-7 HideInfoForApprover">
                <div class="form-group">
                    <label>Upload Evidence Type:<span class="mandatory">*</span><i class="small">(Upload minimum two evidence types)</i><br><i class="small">Upload file up to 2 MB</i></label>
                    @Html.DropDownListFor(m => m.ClaimRequestDetails.DocumentTypeID, new SelectList(Model.DocumentTypeList, "Value", "Text"), "--Select--", new { @class = "form-control", id = "ddlAdditionalEvidenceTypeID" })

                </div>
            </div>
            <div class="col-lg-12">
                <div class="form-group"> 
                    @Html.TextBox("UploadFile", "", new { @class = "form-control HideInfoForApprover", id = "fuAdditionalEvidence", @type = "file", @multiple = "multiple", onchange = "UploadData()" })
                    <div class="tblmax">
                        <table class="table table-striped table-bordered table-hover gridtable">
                            <thead>
                                <tr>
                                    <th>SNo.</th>
                                    <th>Document Type</th>
                                    <th>FileName</th>
                                    <th>Action</th>
                                </tr>
                            </thead>
                            <tbody id="tblAdditionalEvidence">
                                @if (Session["UploadFile"] != null)
                                {
                                    var cntr = 1;
                                    foreach (var item in ((List<FMDSS.Entity.ViewModel.CommonDocument>)Session["UploadFile"]))
                                    {
                                        if (item.DocumentLevel==0)
                                        {
                                <tr>
                                    <td style=display:none;>@item.TempID</td>
                                    <td>@string.Format("{0}", cntr++)</td>
                                    <td>@item.DocumentTypeName</td>
                                    <td><a href="@Url.Content("~/" + item.DocumentPath)" target="_blank"><img src="@Url.Content("~/images/jpeg.png")" width="30" /></a>@item.DocumentName</td>
                                    <td style="width:5%"><button type=button class='btn btn-danger btn-circle btnDeleteDocument' style=cursor:pointer><i class='fa fa-times'></i></button></td>
                                </tr>
                                        }
                                    }
                                }
                                else
                                {
                                <tr class="rowSkip"><td colspan="4">No file Uploaded</td></tr>
                                }
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<div class="col-md-12">
    <div class="panel panel-default">
        <div class="panel-heading" style="font-size:14px;font-weight:700;">
            Optional Details
        </div>
        <div class="panel-body">
            <div class="col-lg-6">
                <div class="form-group">
                    <label>
                        Comment(<i>Up  to 500 charecters</i>)
                    </label>
                    @Html.TextAreaFor(m => m.ClaimRequestDetails.RequesterComment, new { @class = "form-control", id = "txtRequesterComment", maxlength="500" })

                </div>
            </div>
        </div>
    </div>
</div>
<!--===========================Approver Details==================================-->
<div class="col-md-12">
    <div class="panel panel-default">
        <div class="panel-heading" style="font-size:14px;font-weight:700;">
            Approver Actions
        </div>
        <div class="panel-body">
            @{ var cntr1 = 0;}
            @if (Model.WorkFlowRuleList != null)
            {
                foreach (var item in Model.WorkFlowRuleList)
                {
                <div class="col-lg-4">
                    <div class="form-group">
                        <label>
                            Approver SSO ID(@item.DesignationName)
                        </label>
                        @Html.TextBoxFor(m => m.ApproverRemarksVM[cntr1].SSOID, new { @class = "form-control", placeholder = "SSO ID", onchange = "return ValidateSSO(this)" })
                        <div id="errJFMC" class="alert-danger1">@Html.ValidationMessageFor(m => m.ApproverRemarksVM[cntr1].SSOID)</div>
                    </div>
                </div>
                <div class="col-lg-4">
                    <div class="form-group">
                        <label>
                            Approved Date 
                        </label>
                        @Html.TextBoxFor(m => m.ApproverRemarksVM[cntr1].EnteredOn, new { @class = "form-control Calender", placeholder = "Approved Date", id="txtApprovedDate_"+cntr1 })
                    </div>
                </div>
                    if (item.DesignationName.ToLower() == "collector")
                    {
                    <div class="col-lg-4">
                        <div class="form-group">
                            <label>
                                Comment
                            </label>
                            @Html.TextBoxFor(m => m.ApproverRemarksVM[cntr1].ApproverComment, new { @class = "form-control", placeholder = "Approver Comment" })
                        </div>
                    </div> 
                    @Html.HiddenFor(m => m.ApproverRemarksVM[cntr1].StatusID, new { Value = Convert.ToInt32(FMDSS.ActionTypeForFRA.Approve) })
                    }
                    else if (item.DesignationName.ToLower() == "gramsabha")
                    {
                    <div class="col-lg-2">
                        <div class="form-group">
                            <label>
                                Forester Comment
                            </label>
                            @Html.TextBoxFor(m => m.ApproverRemarksVM[cntr1].ApproverComment, new { @class = "form-control", placeholder = "Approver Comment" })
                        </div>
                    </div>
                    <div class="col-lg-2">
                        <div class="form-group">
                            <label>
                                Patwari Comment
                            </label>
                            @Html.TextBoxFor(m => m.ApproverRemarksVM[cntr1].ApproverComment1, new { @class = "form-control", placeholder = "Approver Comment" })
                        </div>
                    </div>
                    @Html.HiddenFor(m => m.ApproverRemarksVM[cntr1].StatusID, new { Value = Convert.ToInt32(FMDSS.ActionTypeForFRA.Forward) })
                    }
                    else
                    {
                <div class="col-lg-4">
                    <div class="form-group">
                        <label>
                            Comment
                        </label>
                        @Html.TextBoxFor(m => m.ApproverRemarksVM[cntr1].ApproverComment, new { @class = "form-control", placeholder = "Approver Comment" })
                    </div>
                </div>
                @Html.HiddenFor(m => m.ApproverRemarksVM[cntr1].StatusID, new { Value = Convert.ToInt32(FMDSS.ActionTypeForFRA.Forward) })
                    }
                    cntr1++;
                }
            }
        </div>
    </div>
</div> 
 
@*<script type="text/javascript" src="~/js/jquery.min.js"></script>*@
@*<script type="text/javascript" src="~/Scripts/jquery-ui.js"></script>*@
 
<script src="~/js/bootstrap.min.js"></script> 
<script type="text/javascript" src="~/Scripts/jquery.validate.min.js"></script>
<script type="text/javascript" src="~/Scripts/jquery.validate.unobtrusive.min.js"></script>

<script type="text/javascript">

    $(document).ready(function () {
        $('.Calender').datepicker({
            dateFormat: GetDatePickerFormat(),
            yearRange: GetYearRange(),
            changeMonth: true,
            changeYear: true,
        });
        $('.Calender').datepicker('setDate', new Date());
    })
</script>



