@{
    ViewBag.Title = "Cancel Request";
    //Layout = "~/Views/Shared/_Layout.cshtml";
    Layout = Convert.ToString(HttpContext.Current.Session["CurrentLayout"].ToString()); // "~/Views/Shared/_Layout.cshtml";
}
@model FMDSS.Models.BookOnlineTicket.BookOnTicket
<script src="~/js/jquery.min.js"></script>

@*<script>
        $(document).ready(function () {

            $("#myModal").modal();

        });
    </script>*@
<script>
    var RootUrl = '@Url.Content("~/")';


    $(document).ready(function () {


        $('#btn_Submit').click(function (e) {
            var cancelliationReasionId = $('#ddCancellationReasonList').val() | 0;
            if (cancelliationReasionId == 0) {
                $('#errCancelliationReason').css("display", "block");
                $('#errCancelliationReason').focus();
                    return false;
            }
            else {
                $('#errCancelliationReason').css("display", "none");
            }
            var cancellationRemarks = $('#CancellationRemarks').val();
            if (cancellationRemarks == null || cancellationRemarks == undefined || cancellationRemarks == '') {
                $('#errCancelliationReasonRemark').css("display", "block");
                $('#errCancelliationReasonRemark').focus();
                return false;
            }
            else {
                $('#errCancelliationReasonRemark').css("display", "none");
            }
            //if ($('#BankName').val().trim() == "") {
            //    $('#errBankName').css("display", "block");
            //    $('#errBankName').focus();
            //    return false;
            //}
            //else {
            //    $('#errBankName').css("display", "none");
            //}

            //if ($('#BranchName').val().trim() == "") {
            //    $('#errBranchName').css("display", "block");
            //    $('#errBranchName').focus();
            //    return false;
            //}
            //else {
            //    $('#errBranchName').css("display", "none");
            //}

            //if ($('#IFSCCode').val().trim() == "") {
            //    $('#errIFSCCode').css("display", "block");
            //    $('#errIFSCCode').focus();
            //    return false;
            //}
            //else {
            //    $('#errIFSCCode').css("display", "none");
            //}

            //if ($('#AccountHolderName').val().trim() == "") {
            //    $('#errAccountHolderName').css("display", "block");
            //    $('#errAccountHolderName').focus();
            //    return false;
            //}
            //else {
            //    $('#errAccountHolderName').css("display", "none");
            //}


            //if ($('option:selected', $('#AccountType')).index() == 0) {
            //    $("#errAccountType").css("display", "block");
            //    $('#errAccountType').focus();
            //    return false;
            //}
            //else {
            //    $("#errAccountType").css("display", "none");
            //}

            //if ($('#AccountNo').val().trim() == "") {
            //    $('#errAccountNo').css("display", "block");
            //    $('#errAccountNo').focus();
            //    return false;
            //}
            //else {
            //    $('#errAccountNo').css("display", "none");
            //}
            
            //if (jQuery("#ConfirmRefundByCitizen").prop("checked")) {
            //    $('#errConfirmRefundByCitizen').css("display", "none");
            //}
            //else {
            //    $('#errConfirmRefundByCitizen').css("display", "block");
            //    $('#errConfirmRefundByCitizen').focus();
            //    return false;
            //}

        });



    });


</script>

<script>
    $(document).ready(function () {





    });

</script>

<style>
    #myModal .modal-header {
        background-color: #5cb85c;
    }

        #myModal .modal-header h4, .close {
            color: #ffffff;
            text-align: center;
            font-size: 30px;
        }

    #myModal .modal-footer {
        background-color: #f9f9f9;
    }
</style>



<div class="modal fade" id="myModal" role="dialog">

    <div class="modal-dialog">


        <!-- Modal content-->
        <div class="modal-content">
            <div class="modal-header" style="padding:35px 50px;">
                <button type="button" class="close" data-dismiss="modal">×</button>
                <h4><i class="fa-fw"></i>Permit Cancellation Policy</h4>
            </div>
            <div class="modal-body" style="padding:40px 50px;">
                Full Refund Request
            </div>
            <div class="modal-footer" style="clear:both">
                <div id="btn" class="col-lg-12">

                    <button type="button" id="btn_cancel" class="btn btn-success" data-dismiss="modal">
                        Confirm
                    </button>

                    <a class="btn btn-danger" href='@Url.Action("BookOnlineTicket", "BookOnlineTicket" )'>
                        Exit
                    </a>

                </div>
            </div>
        </div>

    </div>


</div>



<div class="row">
    <div class="col-lg-9 pad">
        <h1 class="page-header"><span>WildLife Permit Booking : Refund Process </span></h1>
    </div>
    @using (Html.BeginForm("ForcefullyCancelRequest", "RefundPayment", FormMethod.Post))
    {

        <div class="col-lg-9 table-responsive">
            <table class="table table-striped table-bordered table-hover">
                <thead>
                    <tr>

                        <th>Member Fee</th>
                        <th>Camera Fees</th>
                        <th>Safari Fees</th>
                        <th>Vehicle Rent Fees</th>
                        <th>GST on Vehicle Rent Fees</th>
                        <th>Guide Fees</th>
                        <th>GST on Guide Fees</th>
                        <th>Total Amount</th>
                        <th>Emitra Charges</th>
                        <th>Grand Total</th>
                        <th>Refund Amount</th>
                        <th>Enter By</th>

                    </tr>
                </thead>
                <tbody>
                    <tr style="color:Black">

                        <td>@Html.DisplayFor(model => model.TotalMemberFees)  </td>
                        <td>@Html.DisplayFor(model => model.TotalCameraFees)  </td>
                        <td>@Html.DisplayFor(model => model.TotalSafariFees)  </td>
                        <td>@Html.DisplayFor(model => model.VehicleRent)  </td>
                        <td>@Html.DisplayFor(model => model.GSTonVehicleRent)  </td>
                        <td>@Html.DisplayFor(model => model.GuideFee)  </td>
                        <td>@Html.DisplayFor(model => model.GSTGuideFee)  </td>

                        <td>@Html.DisplayFor(model => model.TicketAmount)  </td>
                        <td>@Html.DisplayFor(model => model.EmitraCharges)  </td>

                        <td>@Html.DisplayFor(model => model.GrandTotal)  </td>
                        <td>@Html.DisplayFor(model => model.RefundAmount)  </td>
                        <td>
                            @Html.DisplayFor(model => model.SSOID)
                            @Html.HiddenFor(model => model.TicketID)
                            @Html.HiddenFor(model => model.TypeOfActions)
                        </td>
                    </tr>

                </tbody>
            </table>
        </div>

        <div class="col-lg-9">
            <div class="panel panel-default">
                <div class="panel-body">


                    <div class="col-lg-6">
                        <div class="form-group">

                            <label>Request Id:</label>
                            @Html.TextBoxFor(model => model.RequestId, new { @class = "form-control common datefield", id = "RequestId", @readonly = "readonly" })
                            @Html.HiddenFor(model => model.RequestId)
                            @Html.HiddenFor(model => model.TypeOfActions)
                            <div id="errPermission" style="display:none" class="alert-danger1">Permission is Required.</div>
                        </div>
                    </div>

                    <div class="col-lg-6">
                        <div class="form-group">
                            <label>Select Cancelliation Reason<span style="color:red">*</span>:</label>
                            @Html.DropDownListFor(model => model.CancellationReason, new SelectList(ViewBag.CancellationReasonList, "Value", "Text"), htmlAttributes: new { @class = "form-control", @id = "ddCancellationReasonList", @name = "CancellationReason" })
                            <div id="errCancelliationReason" style="display:none" class="alert-danger1">Cancelliation Reason Required.</div>
                        </div>
                    </div>
                    <div class="col-lg-6">
                        <div class="form-group">
                            <label>Cancelliation Reason Remarks<span style="color:red">*</span>:</label>
                            @Html.TextBoxFor(model => model.CancellationRemarks, new { @class = "form-control common datefield", id = "CancellationRemarks" ,name= "CancellationRemarks" })
                            <div id="errCancelliationReasonRemark" style="display:none" class="alert-danger1">Cancelliation Reason remarks Required.</div>
                        </div>
                    </div>


                    <div id="btn" class="col-lg-12">

                        <button type="submit" class="btn btn-success" name="Command" value="Submit" id="btn_Submit">
                            Process To Refund
                        </button>
                        <a id="btn_Previous" style="float:none" class="btn btn-warning" href='@Url.Action("BookOnlineTicket", "BookOnlineTicket")'>
                            Back
                        </a>

                    </div>
                </div>
            </div>
        </div>
    }

</div>