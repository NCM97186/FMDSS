@model IEnumerable<FMDSS.Entity.JFMC.ViewModel.ViewJFMCRegistration>
@{
    ViewBag.Title = "ShowRegistrationDetails";
}

<div id="page-wrapper-inn">
    <!-- /.col-lg-12 -->
    <!-- Row -->
    <div class="row">
        <div class="col-lg-12">
            <div class="panel panel-default">
                <div class="panel-body">
                    @Html.Partial("_ErrorMsg") 
                    <div class="pull-right">
                        <button type="button" class="btn btn-success btn_pp pull-right" name="btn_addpopip" value="" title="Add New FIR" onclick="location.href='@Url.Action("AddJFMCRegistration", "JFMC")'">
                            <i class=" fa fa-plus">
                            </i> Add New Registration
                        </button>
                    </div>
                    <div class="dataTable_wrapper scrollGrid">
                        <div id="tbl" class="table-responsive"> 
                            <table class="table table-striped table-bordered table-hover table-responsive" id="tblData">
                                <thead>
                                    <tr>                 
                                        <th>SNO</th>
                                        <th>Circle</th>
                                        <th>Division</th>
                                        <th>Range</th>
                                        <th>Naka</th>
                                        <th>Committee Name</th> 
                                        <th>Registration Number</th>
                                        <th>Registration Date</th> 
                                        <th>Total Members</th>
                                        <th>SC</th>
                                        <th>ST</th>
                                        <th>Female</th>
                                        <th>Others</th> 
                                        <th>Managed Area/Ecotourism Site Name</th> 
                                        <th>Bank Name</th>
                                        <th>Branch Name</th>
                                        <th>IFSC Code</th>
                                        <th>Account No</th>
                                        <th>Deposits at the bank (Corpus fund)</th>
                                        <th>Revenue During Year</th>
                                        <th>Ecotourism plan/Management plan exist</th> 
                                        <th>Grading</th>
                                        <th>Last Audited date</th>
                                        <th>Latest General Body Meeting date</th> 
                                        <th>Request Number</th>  
                                        <th class="nosort">Attachment</th>
                                        <th class="nosort">Edit</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    @foreach (var item in Model)
                                    {
                                        <tr>
                                            <td>@Html.DisplayFor(model => item.RowNo)</td>
                                            <td>@Html.DisplayFor(model => item.CircleName)</td>
                                            <td>@Html.DisplayFor(model => item.DivisionName)</td>
                                            <td>@Html.DisplayFor(model => item.RangeName)</td>
                                            <td>@Html.DisplayFor(model => item.NakaName)</td>
                                            <td>@Html.DisplayFor(model => item.CommitteeName)</td>
                                            <td>@Html.DisplayFor(model => item.RegistrationNumber)</td> 
                                            <td>@FMDSS.Globals.Util.GetDateWithFormat(item.RegistrationDate,"dd MMM yyyy")</td>
                                            <td>@Html.DisplayFor(model => item.TotalMember)</td>
                                            <td>@Html.DisplayFor(model => item.TotalSCCategory)</td>
                                            <td>@Html.DisplayFor(model => item.TotalSTCategory)</td>
                                            <td>@Html.DisplayFor(model => item.TotalFemaleCategory)</td>
                                            <td>@Html.DisplayFor(model => item.TotalOthersCategory)</td>
                                            <td>@Html.DisplayFor(model => item.ManagedAreaOrEcotourismSiteName)</td>
                                            <td>@Html.DisplayFor(model => item.BankName)</td>
                                            <td>@Html.DisplayFor(model => item.BranchName)</td>
                                            <td>@Html.DisplayFor(model => item.IFSCCode)</td>
                                            <td>@Html.DisplayFor(model => item.AccountNo)</td>
                                            <td>@Html.DisplayFor(model => item.CorpusFundDeposit)</td>
                                            <td>@Html.DisplayFor(model => item.TotalRevenueDuringYear)</td>
                                            <td>
                                                @Html.Raw(string.Format("{0}", item.IsEcotourismManagementExist == true?"Yes":"No")) 
                                            </td>
                                            <td>@Html.DisplayFor(model => item.Grade)</td> 
                                            <td>@FMDSS.Globals.Util.GetDateWithFormat(item.LastAuditDate, "dd MMM yyyy")</td>
                                            <td>@FMDSS.Globals.Util.GetDateWithFormat(item.LatestGeneralBodyMeetingDate, "dd MMM yyyy")</td> 
                                            <td>@Html.DisplayFor(model => item.JFMCRegistrationID)</td>  
                                            <td><input type="button" class="btn btn-info" value="View" data-toggle="modal" data-target="#modalAEvidence" onclick="GetAttachedEvidence(@item.JFMCRegistrationID,2)" /></td>
                                            <td><input type="button" class="btn btn-warning" value="Edit" onclick="location.href='@Url.Action("EditJFMCRegistration", "JFMC", new { objectID = item.JFMCRegistrationID })'" /></td>
                                        </tr>
                                    }
                                </tbody>
                            </table>
                        </div>

                    </div>
                </div>
            </div>
            <!-- /.panel -->
        </div>
        @Html.Hidden("hdnRootURL", Url.Content("~/"))
        <div class="modal fade in" data-backdrop="static" id="modalAEvidence" tabindex="1" role="dialog" aria-hidden="false"></div> 
    </div>
</div>  
<script src="~/Scripts/Controller/Common.js"></script>
<script>
    $(document).ready(function () {
        $('#tblData').DataTable({
            responsive: true,
            'aoColumnDefs': [{
                'bSortable': false,
                'aTargets': ['nosort']
            }]
        });
    });
</script>
<style>
    .scrollGrid {
        width: 1099px;
        overflow-x: auto;
        white-space: nowrap;
    }
</style>
